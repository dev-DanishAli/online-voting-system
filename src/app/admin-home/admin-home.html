<div class="admin-content">

  <h2 class="page-title">Dashboard</h2>

  <!-- KPI ROW -->
  <div class="kpi-row">

    <div class="kpi-card">
      <span class="material-icons kpi-icon text-red">groups</span>
      <div class="kpi-info">
        <h3>{{ totalCandidates }}</h3>
        <p>Total Candidates</p>
      </div>
    </div>

    <div class="kpi-card">
      <span class="material-icons kpi-icon text-blue">how_to_reg</span>
      <div class="kpi-info">
        <h3>{{ totalRegisteredStudents }}</h3>
        <p>Registered Voters</p>
      </div>
    </div>

    <div class="kpi-card">
      <span class="material-icons kpi-icon text-green">how_to_vote</span>
      <div class="kpi-info">
        <h3>{{ votesCast }}</h3>
        <p>Votes Cast</p>
      </div>
    </div>

    <div class="kpi-card">
      <span class="material-icons kpi-icon text-purple">event_available</span>
      <div class="kpi-info">
        <h3>{{ completedElections }}</h3>
        <p>Completed Elections</p>
      </div>
    </div>

  </div>

  <!-- ONGOING ELECTION -->
  <div class="ongoing-election">
    <div class="election-info">
      <span class="material-icons election-icon">campaign</span>
      <div>
        <h4>Ongoing Election</h4>
        <p title="{{ ongoingElection?.name }}">
          {{ ongoingElection?.name || 'No Active Election' }}
        </p>
      </div>
    </div>
    <span class="status-badge">ACTIVE</span>
  </div>

  <!-- ANALYTICS -->
  <div class="analytics-row">

    <div class="analytics-card">
      <h4>Voting Progress</h4>

      <div class="progress-circle"
        [style.background]="'conic-gradient(#2563eb '+votingProgress+'%, #e5e7eb '+votingProgress+'%)'">
        <div class="progress-inner">
          {{ votesCast }} / {{ totalRegisteredStudents }}
        </div>
      </div>
    </div>

    <div class="analytics-card">
      <h4>Active Departments</h4>
      <ul>
        <li *ngFor="let dept of activeDepartments">{{ dept }}</li>
      </ul>

      <h4 class="mt">Top Candidates</h4>
      <ul>
        <li *ngFor="let candidate of topCandidates">
          {{ candidate.name }} â€” {{ candidate.votes || 0 }} votes
        </li>
      </ul>
    </div>

  </div>

</div>
